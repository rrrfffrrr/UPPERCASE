OVERRIDE(CONFIG,E=>{global.CONFIG=COMBINE([{defaultBoxName:"UPPERCASE",title:"UPPERCASE PROJECT"},E])});OVERRIDE(BROWSER_CONFIG,O=>{global.BROWSER_CONFIG=COMBINE([{},O])});global.CONNECT_TO_UPPERCASE_SERVER=METHOD({run:(e,r)=>{let o,t,E,S,i,s;void 0===r?void 0!==e&&(CHECK_IS_DATA(e)!==!0?i=e:(o=e.roomServerName,t=e.webServerHost,E=e.webServerPort,S=e.isSecure,i=e.success,s=e.error)):(void 0!==e&&(o=e.roomServerName,t=e.webServerHost,E=e.webServerPort,S=e.isSecure),CHECK_IS_DATA(r)!==!0?i=r:(i=r.success,s=r.error)),void 0===t&&(t=BROWSER_CONFIG.host),void 0===E&&(E=CONFIG.webServerPort),void 0===S&&(S=BROWSER_CONFIG.isSecure),GET({isSecure:S,host:t,port:E,uri:"__WEB_SOCKET_SERVER_HOST",paramStr:"defaultHost="+t},{error:s,success:e=>{CONNECT_TO_ROOM_SERVER({roomServerName:o,isSecure:S,host:e,port:E},(e,r,o)=>{FOR_BOX(e=>{EACH(e.MODEL.getOnNewInfos(),e=>{e.findMissingDataSet()})}),e("__DISCONNECTED",()=>{FOR_BOX(e=>{EACH(e.MODEL.getOnNewInfos(),e=>{e.lastCreateTime=SERVER_TIME(new Date)})})}),void 0!==i&&i(e,r,o)})}})}});FOR_BOX(o=>{o.R=METHOD(n=>{let e;n.setBasePath=(o=>{e=o});return{run:(n,i)=>{let t=o.boxName+"/R/"+n;return void 0!==CONFIG.version&&(t+="?version="+CONFIG.version),void 0!==e&&(t=e+"/"+t),"file:"===location.protocol?o.boxName!==CONFIG.defaultBoxName&&(t="BOX/"+t):t="/"+t,void 0!==i&&GET(t,i),t}}})});FOR_BOX(n=>{n.RF=METHOD({run:u=>{return"/__RF/"+n.boxName+"/"+u}})});global.SERVER_TIME=METHOD(n=>{let t=0;n.setDiff=(n=>{t=n});return{run:n=>{return new Date(n.getTime()-t)}}});global.SYNC_TIME=METHOD({run:()=>{let n=UPPERCASE.ROOM("timeSyncRoom");n.send({methodName:"sync",data:new Date},n=>{TIME.setDiff(n),SERVER_TIME.setDiff(n)})}});global.TIME=METHOD(n=>{let t=0;n.setDiff=(n=>{t=n});return{run:n=>{return new Date(n.getTime()+t)}}});